machine:
  ruby:
    version: ruby-2.4.0

test:
  override:
    - yamllint *.yml

deployment:
  production:
    branch: master
    commands:
      - aws s3 sync . s3://calligre-us-east-1/cloudformation/ --exclude "*" --include "*.yml" --exclude "circle.yml" --delete
      - aws s3 sync . s3://calligre-us-east-2/cloudformation/ --exclude "*" --include "*.yml" --exclude "circle.yml" --delete
      - aws s3 sync . s3://calligre-us-west-1/cloudformation/ --exclude "*" --include "*.yml" --exclude "circle.yml" --delete
      - aws s3 sync . s3://calligre-us-west-2/cloudformation/ --exclude "*" --include "*.yml" --exclude "circle.yml" --delete
      - aws s3 sync . s3://calligre-eu-west-1/cloudformation/ --exclude "*" --include "*.yml" --exclude "circle.yml" --delete
      - aws s3 sync . s3://calligre-eu-west-2/cloudformation/ --exclude "*" --include "*.yml" --exclude "circle.yml" --delete
      